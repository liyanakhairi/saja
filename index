<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bob the Chatbot</title>
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Syne:wght@400;700;800&display=swap" rel="stylesheet"/>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg: #0d0d0d;
      --surface: #1a1a1a;
      --surface2: #242424;
      --border: #2e2e2e;
      --accent: #c8f135;
      --accent-dim: #a0c020;
      --user-bubble: #1e3a5f;
      --bob-bubble: #1f1f1f;
      --text: #f0f0f0;
      --text-dim: #888;
      --font-display: 'Syne', sans-serif;
      --font-mono: 'Space Mono', monospace;
    }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: var(--font-mono);
      height: 100dvh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      overflow: hidden;
    }

    /* Subtle grid background */
    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background-image:
        linear-gradient(rgba(200,241,53,0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(200,241,53,0.03) 1px, transparent 1px);
      background-size: 40px 40px;
      pointer-events: none;
      z-index: 0;
    }

    .app {
      position: relative;
      z-index: 1;
      width: 100%;
      max-width: 520px;
      height: min(700px, 90dvh);
      display: flex;
      flex-direction: column;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 0 60px rgba(200,241,53,0.06), 0 20px 60px rgba(0,0,0,0.6);
    }

    /* Header */
    .header {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 16px 20px;
      border-bottom: 1px solid var(--border);
      background: var(--surface);
      flex-shrink: 0;
    }

    .avatar {
      width: 42px;
      height: 42px;
      border-radius: 50%;
      background: var(--accent);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      flex-shrink: 0;
      position: relative;
    }

    .avatar::after {
      content: '';
      position: absolute;
      bottom: 1px;
      right: 1px;
      width: 10px;
      height: 10px;
      background: #4caf50;
      border-radius: 50%;
      border: 2px solid var(--surface);
    }

    .header-info { flex: 1; }

    .header-name {
      font-family: var(--font-display);
      font-size: 1rem;
      font-weight: 800;
      color: var(--text);
      letter-spacing: 0.03em;
    }

    .header-status {
      font-size: 0.65rem;
      color: #4caf50;
      letter-spacing: 0.05em;
      margin-top: 1px;
    }

    .header-tag {
      font-size: 0.6rem;
      color: var(--text-dim);
      background: var(--surface2);
      border: 1px solid var(--border);
      padding: 3px 8px;
      border-radius: 20px;
      letter-spacing: 0.05em;
    }

    /* Messages */
    .messages {
      flex: 1;
      overflow-y: auto;
      padding: 20px 16px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      scroll-behavior: smooth;
    }

    .messages::-webkit-scrollbar { width: 4px; }
    .messages::-webkit-scrollbar-track { background: transparent; }
    .messages::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }

    .msg-row {
      display: flex;
      align-items: flex-end;
      gap: 8px;
      animation: fadeUp 0.3s ease forwards;
      opacity: 0;
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(10px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .msg-row.user { flex-direction: row-reverse; }

    .msg-avatar {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: var(--accent);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      flex-shrink: 0;
    }

    .msg-row.user .msg-avatar {
      background: var(--user-bubble);
      font-size: 12px;
    }

    .bubble {
      max-width: 75%;
      padding: 10px 14px;
      border-radius: 16px;
      font-size: 0.82rem;
      line-height: 1.5;
      position: relative;
    }

    .msg-row.bob .bubble {
      background: var(--bob-bubble);
      border: 1px solid var(--border);
      border-bottom-left-radius: 4px;
      color: var(--text);
    }

    .msg-row.user .bubble {
      background: var(--user-bubble);
      border: 1px solid #2a4a6f;
      border-bottom-right-radius: 4px;
      color: var(--text);
    }

    .bubble-time {
      font-size: 0.58rem;
      color: var(--text-dim);
      margin-top: 4px;
      text-align: right;
    }

    .msg-row.bob .bubble-time { text-align: left; }

    /* Typing indicator */
    .typing {
      display: flex;
      align-items: flex-end;
      gap: 8px;
      animation: fadeUp 0.3s ease forwards;
      opacity: 0;
    }

    .typing-bubble {
      background: var(--bob-bubble);
      border: 1px solid var(--border);
      border-bottom-left-radius: 4px;
      padding: 12px 16px;
      border-radius: 16px;
      display: flex;
      gap: 5px;
      align-items: center;
    }

    .dot {
      width: 6px;
      height: 6px;
      background: var(--text-dim);
      border-radius: 50%;
      animation: bounce 1.2s infinite;
    }
    .dot:nth-child(2) { animation-delay: 0.2s; }
    .dot:nth-child(3) { animation-delay: 0.4s; }

    @keyframes bounce {
      0%, 60%, 100% { transform: translateY(0); }
      30% { transform: translateY(-5px); }
    }

    /* System message */
    .sys-msg {
      text-align: center;
      font-size: 0.65rem;
      color: var(--text-dim);
      letter-spacing: 0.05em;
      padding: 4px 0;
    }

    /* Input area */
    .input-area {
      padding: 12px 16px;
      border-top: 1px solid var(--border);
      background: var(--surface);
      display: flex;
      gap: 10px;
      align-items: flex-end;
      flex-shrink: 0;
    }

    .input-wrap {
      flex: 1;
      background: var(--surface2);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 10px 14px;
      transition: border-color 0.2s;
    }

    .input-wrap:focus-within {
      border-color: var(--accent);
      box-shadow: 0 0 0 2px rgba(200,241,53,0.08);
    }

    textarea {
      width: 100%;
      background: transparent;
      border: none;
      outline: none;
      color: var(--text);
      font-family: var(--font-mono);
      font-size: 0.8rem;
      resize: none;
      max-height: 100px;
      line-height: 1.5;
    }

    textarea::placeholder { color: var(--text-dim); }

    .send-btn {
      width: 42px;
      height: 42px;
      border-radius: 12px;
      background: var(--accent);
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      transition: background 0.2s, transform 0.1s;
    }

    .send-btn:hover { background: var(--accent-dim); }
    .send-btn:active { transform: scale(0.93); }

    .send-btn svg { width: 18px; height: 18px; }

    /* Hint bar */
    .hint-bar {
      padding: 6px 16px 10px;
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
      flex-shrink: 0;
    }

    .hint {
      font-size: 0.6rem;
      color: var(--text-dim);
      background: var(--surface2);
      border: 1px solid var(--border);
      padding: 3px 8px;
      border-radius: 20px;
      cursor: pointer;
      transition: border-color 0.2s, color 0.2s;
      letter-spacing: 0.03em;
    }

    .hint:hover { border-color: var(--accent); color: var(--accent); }

    /* Mobile */
    @media (max-width: 480px) {
      body { padding: 0; align-items: stretch; justify-content: stretch; }
      .app { max-width: 100%; height: 100dvh; border-radius: 0; border: none; }
    }
  </style>
</head>
<body>
<div class="app">

  <!-- Header -->
  <div class="header">
    <div class="avatar">ü§ñ</div>
    <div class="header-info">
      <div class="header-name">Bob</div>
      <div class="header-status">‚óè online</div>
    </div>
    <div class="header-tag">lazy bot v1.0</div>
  </div>

  <!-- Messages -->
  <div class="messages" id="messages">
    <div class="sys-msg">Today ‚Äî conversation started</div>
    <div class="msg-row bob">
      <div class="msg-avatar">ü§ñ</div>
      <div>
        <div class="bubble">Hey. I'm Bob. Don't expect much.</div>
        <div class="bubble-time">just now</div>
      </div>
    </div>
  </div>

  <!-- Input -->
  <div class="input-area">
    <div class="input-wrap">
      <textarea id="input" rows="1" placeholder="Say something to Bob..." aria-label="Message input"></textarea>
    </div>
    <button class="send-btn" id="sendBtn" aria-label="Send message">
      <svg viewBox="0 0 24 24" fill="none" stroke="#0d0d0d" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
        <line x1="22" y1="2" x2="11" y2="13"></line>
        <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
      </svg>
    </button>
  </div>

  <!-- Hint chips -->
  <div class="hint-bar">
    <span class="hint" onclick="fillInput('Are you there?')">Try a question</span>
    <span class="hint" onclick="fillInput('HELLO BOB')">Try yelling</span>
    <span class="hint" onclick="fillInput('ARE YOU THERE?')">Yell a question</span>
    <span class="hint" onclick="fillInput(' ')">Say nothing</span>
    <span class="hint" onclick="fillInput('Hello Bob')">Say hi</span>
  </div>

</div>

<script>
  // ============================================================
  // BOB'S BRAIN ‚Äî Response Logic
  // ============================================================
  function getBobResponse(message) {
    const trimmed = message.trim();

    // Rule 1: Empty message
    if (trimmed === '') {
      return "Fine. Be that way!";
    }

    const isQuestion = trimmed.endsWith('?');
    const isYelling  = trimmed === trimmed.toUpperCase() && /[A-Z]/.test(trimmed);

    // Rule 2: Yelling a question
    if (isYelling && isQuestion) {
      return "Calm down, I know what I'm doing!";
    }

    // Rule 3: Yelling
    if (isYelling) {
      return "Whoa, chill out!";
    }

    // Rule 4: Question
    if (isQuestion) {
      return "Sure.";
    }

    // Rule 5: Anything else
    return "Whatever.";
  }

  // ============================================================
  // UI HELPERS
  // ============================================================
  const messagesEl = document.getElementById('messages');
  const inputEl    = document.getElementById('input');
  const sendBtn    = document.getElementById('sendBtn');

  function getTime() {
    return new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
  }

  function addMessage(text, sender) {
    const row = document.createElement('div');
    row.className = `msg-row ${sender}`;

    const avatarEl = document.createElement('div');
    avatarEl.className = 'msg-avatar';
    avatarEl.textContent = sender === 'bob' ? 'ü§ñ' : 'üë§';

    const wrapper = document.createElement('div');
    const bubble  = document.createElement('div');
    bubble.className = 'bubble';
    bubble.textContent = text;

    const time = document.createElement('div');
    time.className = 'bubble-time';
    time.textContent = getTime();

    wrapper.appendChild(bubble);
    wrapper.appendChild(time);
    row.appendChild(avatarEl);
    row.appendChild(wrapper);
    messagesEl.appendChild(row);
    scrollBottom();
  }

  function showTyping() {
    const typing = document.createElement('div');
    typing.className = 'typing';
    typing.id = 'typing';
    typing.innerHTML = `
      <div class="msg-avatar">ü§ñ</div>
      <div class="typing-bubble">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
      </div>`;
    messagesEl.appendChild(typing);
    scrollBottom();
  }

  function removeTyping() {
    const t = document.getElementById('typing');
    if (t) t.remove();
  }

  function scrollBottom() {
    messagesEl.scrollTop = messagesEl.scrollHeight;
  }

  function fillInput(text) {
    inputEl.value = text;
    inputEl.focus();
  }

  // ============================================================
  // SEND MESSAGE
  // ============================================================
  function sendMessage() {
    const text = inputEl.value;

    // Show user message (even if empty ‚Äî Bob has a response for that!)
    const displayText = text.trim() === '' ? '...' : text.trim();
    addMessage(displayText, 'user');
    inputEl.value = '';
    inputEl.style.height = 'auto';

    // Show Bob typing, then respond
    showTyping();
    setTimeout(() => {
      removeTyping();
      const response = getBobResponse(text);
      addMessage(response, 'bob');
    }, 800 + Math.random() * 600);
  }

  // ============================================================
  // EVENT LISTENERS
  // ============================================================
  sendBtn.addEventListener('click', sendMessage);

  inputEl.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      sendMessage();
    }
  });

  // Auto-resize textarea
  inputEl.addEventListener('input', () => {
    inputEl.style.height = 'auto';
    inputEl.style.height = inputEl.scrollHeight + 'px';
  });
</script>
</body>
</html>